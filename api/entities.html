<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>Entities</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Lambda-blog</span> <span class="project-version">1.0.6</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1  current"><a href="entities.html"><div class="inner"><span>Entities</span></div></a></li><li class="depth-1 "><a href="generation.html"><div class="inner"><span>Generation pipeline</span></div></a></li><li class="depth-1 "><a href="middleware.html"><div class="inner"><span>Generator middleware</span></div></a></li><li class="depth-1 "><a href="parser.html"><div class="inner"><span>Content parsers</span></div></a></li><li class="depth-1 "><a href="templates.html"><div class="inner"><span>HTML templates</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lambda-blog</span></div></div></li><li class="depth-2 branch"><a href="lambda-blog.generator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>generator</span></div></a></li><li class="depth-2 branch"><a href="lambda-blog.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parsers</span></div></div></li><li class="depth-3"><a href="lambda-blog.parsers.md.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>md</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>templates</span></div></div></li><li class="depth-3 branch"><a href="lambda-blog.templates.archives.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>archives</span></div></a></li><li class="depth-3 branch"><a href="lambda-blog.templates.bits.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bits</span></div></a></li><li class="depth-3 branch"><a href="lambda-blog.templates.entries.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>entries</span></div></a></li><li class="depth-3 branch"><a href="lambda-blog.templates.page.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>page</span></div></a></li><li class="depth-3 branch"><a href="lambda-blog.templates.rss.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rss</span></div></a></li><li class="depth-3"><a href="lambda-blog.templates.tags.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tags</span></div></a></li><li class="depth-2"><a href="lambda-blog.utils.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><p>Timestamp: #inst &ldquo;2016-01-26T16:43:00&rdquo; Title: &ldquo;Entities&rdquo; ID: entities</p>
<h1><a href="#entities" name="entities"></a>Entities</h1>
<p>Throughout this documentation &amp; the <strong>λ-blog</strong> codebase you will run into a somewhat vaguely named concept of <em>entities</em>. An entity is any data structure that represents your content throughout <strong>λ-blog</strong> generation pipline. For example, the following Clojure map representing a parsed blog entry is an entity:</p>
<pre><code class="clojure">(def entry {:metadata {:author &quot;Idorobots&quot;
                       :title &quot;Entry title&quot;}
            :contents &quot;&lt;p&gt;Some contents&lt;/p&gt;&quot;})
</code></pre>
<p>Similarily, your blog configuration can be considered an entity if it happens to contribute to the page generation of another entity:</p>
<pre><code class="clojure">(def config {:author &quot;Idorobots&quot;
             :stylesheets [&quot;style/style.css&quot;
                           &quot;style/theme.css&quot;]})

;; Elswhere in the code:
(-&gt;&gt; entry
     (merge config)
     ;; ... process &amp; generate a page
     )
</code></pre>
<p>In fact, this is so useful that some of the <strong>λ-blog</strong> internals will do just that for you automatically, so you don&rsquo;t have to worry about data duplication when building your generation pipline. This is, however, a topic for another time.</p>
<h2><a href="#nested-entities" name="nested-entities"></a>Nested entities</h2>
<p>Since <strong>λ-blog</strong> imposes very few restrictions on entity format, entities can be nested:</p>
<pre><code class="clojure">(def config {:author &quot;Idorobots&quot;
             :stylesheets [&quot;style/style.css&quot;
                           &quot;style/theme.css&quot;]
             :entries [{:metadata {:title &quot;Entry 1&quot;}
                        :url &quot;www.example.com/entry-1&quot;
                        :contents &quot;&lt;p&gt;Some contents&lt;/p&gt;&quot;}
                       {:metadata {:title &quot;Entry 2&quot;}
                        :url &quot;www.example.com/entry-2&quot;
                        :contents &quot;&lt;p&gt;Some other contents&lt;/p&gt;&quot;}
                       ; ...
                      ]})
</code></pre>
<p>In such a case, <code>:entries</code> can be used as additional metadata while generating some pages of the blog making it easy, for example, to link to more content. Just <code>(map (juxt (comp :title :metadata) :url) entries)</code> to get a list of <code>:title</code> - <code>:url</code> pairs and you&rsquo;re set.</p>
<p><strong>λ-blog</strong> provides many convenient ways to process nested entities &amp; entity internals, but this is, again, a topic for another time.</p></div></div></div></body></html>
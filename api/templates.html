<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>HTML templates</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Lambda-blog</span> <span class="project-version">1.0.2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="entities.html"><div class="inner"><span>Entities</span></div></a></li><li class="depth-1 "><a href="generation.html"><div class="inner"><span>Generation pipeline</span></div></a></li><li class="depth-1 "><a href="middleware.html"><div class="inner"><span>Generator middleware</span></div></a></li><li class="depth-1 "><a href="parser.html"><div class="inner"><span>Content parsers</span></div></a></li><li class="depth-1  current"><a href="templates.html"><div class="inner"><span>HTML templates</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>lambda-blog</span></div></div></li><li class="depth-2 branch"><a href="lambda-blog.generator.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>generator</span></div></a></li><li class="depth-2 branch"><a href="lambda-blog.middleware.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parsers</span></div></div></li><li class="depth-3"><a href="lambda-blog.parsers.md.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>md</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>templates</span></div></div></li><li class="depth-3 branch"><a href="lambda-blog.templates.archives.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>archives</span></div></a></li><li class="depth-3 branch"><a href="lambda-blog.templates.bits.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bits</span></div></a></li><li class="depth-3 branch"><a href="lambda-blog.templates.entries.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>entries</span></div></a></li><li class="depth-3 branch"><a href="lambda-blog.templates.page.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>page</span></div></a></li><li class="depth-3 branch"><a href="lambda-blog.templates.rss.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rss</span></div></a></li><li class="depth-3"><a href="lambda-blog.templates.tags.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tags</span></div></a></li><li class="depth-2"><a href="lambda-blog.utils.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="document" id="content"><div class="doc"><div class="markdown"><p>Timestamp: #inst &ldquo;2016-01-26T16:43:00&rdquo; Title: &ldquo;HTML templates&rdquo; ID: templates</p>
<h1><a href="#html-templates" name="html-templates"></a>HTML templates</h1>
<p>The final step of a generation pipeline is the <em>actual</em> static page generation. It is usually achieved using an <em>HTML templating engine</em> of sorts. In <strong>位-blog</strong>, default HTML templates are pretty spartan and defined using the <a href="https://github.com/Idorobots/s-html">S-HTML</a> Clojure DSL. It so to encourage experimentation, after all <em>customizability</em> is the guiding principle behind <strong>位-blog</strong>.</p>
<p>A template is just a function that takes an entity as an argument and returns processed HTML as a result:</p>
<pre><code class="clojure">(defn template [{:keys [contents]}]
  (str &quot;&lt;div class=\&quot;container\&quot;&gt;&quot; contents &quot;&lt;/div&gt;&quot;))
</code></pre>
<p>Or in case of <strong>S-HTML</strong>:</p>
<pre><code class="clojure">(defn template [{:keys [contents]}]
  (div {:class :container}
       contents))
</code></pre>
<h2><a href="#using-templates-with-nested-entities" name="using-templates-with-nested-entities"></a>Using templates with nested entities</h2>
<p>To make it easier to generate HTML from nested entities, <strong>位-blog</strong> defines a bunch of handy functions:</p>
<ul>
  <li>
  <p><code>(generate! entity key template &amp; args)</code> - generates a page using <code>entity</code> <strong>and</strong> <code>(entity key)</code> values, by combining them and passing the result along with additional <code>args</code> to the <code>template</code>.</p></li>
  <li>
  <p><code>(generate-all! key template &amp; args)</code> - same as <code>generate!</code>, but generates a sequence of pages from a sequence of subentities.</p></li>
</ul>
<p>Detailed descriptions of these functions can be found in the <a href="https://idorobots.github.io/lambda-blog/api/lambda-blog.generator.html"><code>lambda-blog.generator</code></a> namespace.</p>
<h2><a href="#defining-custom-html-templates" name="defining-custom-html-templates"></a>Defining custom HTML templates</h2>
<p><strong>位-blog</strong> templates are built using <strong>S-HTML</strong>, so a sensible way of going about defining custom templates is to reuse existing templates and extend them with some more <strong>S-HTML</strong>:</p>
<pre><code class="clojure">(require &#39;[lambda-blog.templates.page :refer [page]])
(require &#39;[s-html.tags :as html])

(defn my-custom-contents [{:keys [contents title]}]
  (html/div {:class :container}
            (html/h1 title)
            (html/p contents)))

(def my-template (partial page my-custom-contents))
</code></pre>
<p>A somewhat more detailed description of <strong>S-HTML</strong> can be found <a href="https://github.com/Idorobots/s-html">here</a>.</p>
<p>Of course, you can just as easily use any other HTML generation/templating library - just make sure to return stringified HTML from your template functions.</p></div></div></div></body></html>
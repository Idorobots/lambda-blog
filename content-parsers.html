<!DOCTYPE html><html><head><meta charset="utf-8" /><title>Content parsers</title><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" rel="stylesheet" type="text/css" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" /><link href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.25.1/css/theme.bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="style/highlight.default.css" rel="stylesheet" type="text/css" /><link href="style/lambda-blog.css" rel="stylesheet" type="text/css" /><link href="index.xml" rel="alternate" title="Content parsers Feed" type="application/atom+xhtml" /><link href="media/logo.svg" rel="icon" type="image/png" /><script src="http://code.jquery.com/jquery-2.2.0.min.js" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.25.1/js/jquery.tablesorter.min.js" type="text/javascript"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" type="text/javascript"></script><script src="js/highlight.pack.js" type="text/javascript"></script><meta content="width=device-width, initial-scale=1.0" name="viewport" /><meta content="λ-blog v.1.3.1" name="generator" /><meta content="Idorobots" name="author" /><meta content="λ-blog, lambda blog, static site generator, blogging platform, blogging software" name="keywords" /><meta content="A static blog generator generator optimized for customizability." name="description" /></head><body><nav class="navbar navbar-default navbar-fixed-top"><div class="container"><div class="navbar-header"><button class="navbar-toggle navbar-brand pull-left" data-target="#navbar-responsive-collapse" data-toggle="collapse" type="button"><div><img src="media/logo.svg" />λ-blog</div></button><div class="hidden-xs"><a class="navbar-brand" href="."><div><img src="media/logo.svg" />λ-blog</div></a></div></div><div class="collapse navbar-collapse navbar-right" id="navbar-responsive-collapse"><ul class="nav navbar-nav"><li class="hidden-sm hidden-md hidden-lg"><a href="."><i class="fa fa-home"></i> Home page</a></li><li class="dropdown"><a href="#"><i class="fa fa-book"></i> Documentation<span class="caret"></span></a><ul class="dropdown-menu"><li><a href="basics.html">Basics</a></li><li><a href="content-parsers.html">Content parsers</a></li><li><a href="entities.html">Entities</a></li><li><a href="generation-pipeline.html">Generation pipeline</a></li><li><a href="generator-middleware.html">Generator middleware</a></li><li><a href="html-templates.html">HTML templates</a></li></ul></li><li><a href="api"><i class="fa fa-list"></i> API</a></li><li><a href="https://github.com/Idorobots/lambda-blog"><i class="fa fa-github"></i> GitHub</a></li><li><a href="archives.html"><i class="fa fa-archive"></i> Archives</a></li><li><a href="index.xml"><i class="fa fa-feed"></i> Feed</a></li></ul></div></div></nav><div class="body-wrap"><article id="page"><div class="container"><header class="page-header"><div class="row"><div class="col-xs-12 col-sm-8 col-md-10"><h1 style="font-size: 300%;">λ-blog</h1><p style="font-size: 150%;">A static blog generator generator optimized for customizability.</p></div><div class="hidden-xs col-sm-2 col-md-1 pull-right"><img src="media/logo.svg" style="height: 120px;" /></div></div></header><h1><a name="content-parsers"></a><a href="#content-parsers">Content parsers</a></h1><p><strong>λ-blog</strong> uses a very simple scheme of content management - you supply paths to files containing your content, and tell how to process them by specifying a <em>parser</em>.</p><p>A parser is simply a Clojure function that takes the text contents of a file and returns a data structure representing the file contents. The returned data structure can be arbitrary as long as your generation pipeline knows how to handle it. A sensible idea is to return a Clojure map containing processed file contents & some metadata.</p><p>Here's a simple definition of such a parser:</p><pre><code class="clojure">&#40;defn hello-parser &#91;contents&#93;
  {:metadata {:length &#40;count contents&#41;}
   :contents &#40;str &quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&lt;p&gt;&quot; contents &quot;&lt;/p&gt;&quot;&#41;}&#41;
</code></pre><h2><a name="builtin-parsers"></a><a href="#builtin-parsers">Builtin parsers</a></h2><p>Out of the box, <strong>λ-blog</strong> comes bundled with a Markdown parser based on <a href='https://github.com/yogthos/markdown-clj'>markdown-clj</a>. To use it, simply require its namespace and add it to your generation pipeline:</p><pre><code class="clojure">&#40;require '&#91;lambda-blog.parsers.md :as md&#93;&#41;

;; Elswhere in the code:
&#40;-&gt; filename
    slurp
    md/parse&#41;
</code></pre><p>The value returned is a Clojure map containing at least <code>:contents</code> & <code>:metadata</code> keys:</p><pre><code class="clojure-repl">user=&gt; &#40;md/parse &quot;Some: \&quot;Metadata\&quot;\n\n# Some\nMarkdown\n## Contents&quot;&#41;
{:metadata {:some &quot;Metadata&quot;}
 :contents &quot;&lt;h1&gt;Some&lt;/h1&gt;Markdown&lt;h2&gt;Contents&lt;/h2&gt;&quot;}
</code></pre><p>Each of metadata value is assumed to be in <a href='https://github.com/edn-format/edn'>Clojure EDN</a> format and thus is parsed as such. In order to give a certain metadata key multiple values, simply use a Clojure vector:</p><pre><code class="clojure-repl">user=&gt; &#40;md/parse &quot;Some: &#91;Multiple Values&#93;\n\n# Some\nMarkdown\n## Contents&quot; {}&#41;
{:metadata {:some &#91;Multiple Values&#93;}
 :contents &quot;&lt;h1&gt;Some&lt;/h1&gt;Markdown&lt;h2&gt;Contents&lt;/h2&gt;&quot;}
</code></pre><h3><a name="additional-arguments"></a><a href="#additional-arguments">Additional arguments</a></h3><p>The builtin Markdown parser accepts a number of extra, keyword arguments:</p><ul><li><code>:footnotes?</code> - toggles footnote syntax parsing; <code>true</code> by default,</li><li><code>:heading-anchors</code> - toggles HTML anchors in headers; <code>true</code> by default,</li><li><code>previews?</code> - toggles generation of entry prievews (snipping text at <code>&lt;!&ndash; more &ndash;&gt;</code> tag),</li><li><code>:reference-links?</code> - toggles reference link syntax parsing; <code>true</code> by default.</li></ul><footer><hr /><div class="row"><div class="text-center">All writing licensed under <a href="http://creativecommons.org/licenses/by-sa/4.0/" rel="license"><img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" style="border-width:0;" /></a>. All code released to the Public Domain unless otherwise specified.</div><div class="text-center"><p>Powered by <a href="https://github.com/Idorobots/lambda-blog">λ-blog</a>.</p></div></div></footer><script src="js/lambda-blog.js" type="text/javascript"></script></div></article></div></body></html>